{"version":3,"sources":["hooks/useLocalStorage.tsx","functions/utils.ts","hooks/useAppData.tsx","Layout.tsx","components/EditableField.tsx","ItemsTab.tsx","PeopleTab.tsx","App.tsx","index.tsx"],"names":["useLocalStorage","key","initialValue","useState","item","window","localStorage","getItem","JSON","parse","error","console","log","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","nameToInitials","name","toUpperCase","split","map","part","substr","join","setify","array","Set","appDataDefaults","items","people","personToItemsMap","itemToPeopleMap","tip","tax","noop","AppDataContext","createContext","appData","setAppData","reset","putItem","removeItem","splitItem","putPerson","removePerson","handleSetItemPerson","itemCostMap","subTotal","total","subTotalForPerson","taxForPerson","tipForPerson","totalForPerson","AppDataContextProvider","children","useMemo","reduce","curr","id","cost","previousValue","currentValue","currency","add","personId","sum","itemId","divide","length","percentForPerson","multiply","Provider","newItem","prev","index","indexOf","filter","find","splitCount","parseInt","prompt","format","isNaN","newItems","Array","fill","_","uuidv4","newPerson","person","selected","_itemId","_personId","useAppData","useContext","useStyles","makeStyles","theme","offset","mixins","toolbar","Layout","classes","Box","style","paddingBottom","AppBar","position","Toolbar","Typography","variant","flexGrow","Button","onClick","confirm","color","className","DebugView","showDebugView","setShowDebugView","marginBottom","Container","Card","Collapse","in","CardContent","buttonTitle","UncontrolledCollapse","open","setOpen","EditableField","onChange","formatValue","type","isEditMode","setIsEditMode","textFieldRef","useRef","useTheme","useLayoutEffect","current","focus","TextField","placeholder","event","target","onBlur","onKeyDown","includes","code","inputRef","width","ButtonBase","paddingTop","display","flexDirection","height","backgroundColor","palette","text","disabled","itemEntryFormDefaults","undefined","tableCellNoPadding","tableCellEditPadding","ItemsTab","useForm","defaultValues","control","handleSubmit","nameFieldRef","costFieldRef","handleOnSubmit","handleOnKeyDown","Grid","container","spacing","xs","onSubmit","alignItems","md","render","field","ref","label","fullWidth","rules","required","min","overflow","Table","TableHead","TableRow","top","zIndex","TableCell","left","minWidth","Tooltip","title","Avatar","fontSize","TableBody","whiteSpace","warning","light","parseFloat","IconButton","size","edge","marginRight","Checkbox","checked","taxPct","toFixed","tipPct","location","href","txn","user","amount","note","getVenmoPaymentLink","PeopleTab","personNameInput","setPersonNameInput","handleAddPerson","trim","List","ListItem","ListItemAvatar","ListItemSecondaryAction","App","currentTab","setCurrentTab","Tabs","indicatorColor","textColor","centered","Tab","ReactDOM","StrictMode","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.98d911aa.chunk.js","sourcesContent":["import { Dispatch, SetStateAction, useState } from 'react';\n\nfunction useLocalStorage<T>(key: string, initialValue: T): [T, Dispatch<SetStateAction<T>>] {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    try {\n      // Get from local storage by key\n      const item = window.localStorage.getItem(key);\n      // Parse stored json or if none return initialValue\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      // If error also return initialValue\n      // eslint-disable-next-line no-console\n      console.log(error);\n      return initialValue;\n    }\n  });\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to localStorage.\n  const setValue = (value: T | ((val: T) => T)) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      // Save state\n      setStoredValue(valueToStore);\n      // Save to local storage\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      // eslint-disable-next-line no-console\n      console.log(error);\n    }\n  };\n  return [storedValue, setValue];\n}\n\nexport default useLocalStorage;\n","export const nameToInitials = (name: string): string => {\n  return name\n    .toUpperCase()\n    .split(' ')\n    .map((part) => part.substr(0, 1))\n    .join('');\n};\n\nexport const indexArray = (length: number): number[] => new Array(length).fill(0).map((_, index) => index);\n\nexport const setify = <T>(array: T[]): T[] => [...new Set(array)];\n\nexport const calcPercent = (numerator: number, denominator: number, toFixed = 2): string => {\n  if (isNaN(numerator) || isNaN(denominator) || denominator === 0) return (0).toFixed(2);\n  return ((numerator / denominator) * 100.0).toFixed(toFixed);\n};\n","import useLocalStorage from './useLocalStorage';\nimport ReceiptItem from '../types/ReceiptItem';\nimport Person from '../types/Person';\nimport { indexArray, setify } from '../functions/utils';\nimport React, { createContext, Dispatch, FunctionComponent, SetStateAction, useContext, useMemo } from 'react';\nimport currency from 'currency.js';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport interface AppDataEntity {\n  items: ReceiptItem[];\n  people: Person[];\n  personToItemsMap: Record<string, string[]>;\n  itemToPeopleMap: Record<string, string[]>;\n  tip: number;\n  tax: number;\n}\n\nconst appDataDefaults = {\n  items: [],\n  people: [],\n  personToItemsMap: {},\n  itemToPeopleMap: {},\n  tip: 0,\n  tax: 0,\n};\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = () => {};\n\ninterface AppDataContextProps {\n  appData: AppDataEntity;\n  setAppData: Dispatch<SetStateAction<AppDataEntity>>;\n  reset: () => void;\n  putItem: (newItem: ReceiptItem) => void;\n  removeItem: (itemId: string) => void;\n  splitItem: (itemId: string) => void;\n  putPerson: (newPerson: Person) => void;\n  removePerson: (personId: string) => void;\n  handleSetItemPerson: (itemId: string, personId: string, selected: boolean) => void;\n  itemCostMap: Record<string, number>;\n  subTotal: number;\n  total: number;\n  subTotalForPerson: (personId: string) => number;\n  taxForPerson: (personId: string) => number;\n  tipForPerson: (personId: string) => number;\n  totalForPerson: (personId: string) => number;\n}\n\nconst AppDataContext = createContext<AppDataContextProps>({\n  appData: appDataDefaults,\n  setAppData: noop,\n  reset: noop,\n  putItem: noop,\n  removeItem: noop,\n  splitItem: noop,\n  putPerson: noop,\n  removePerson: noop,\n  handleSetItemPerson: noop,\n  itemCostMap: {},\n  subTotal: 0,\n  total: 0,\n  subTotalForPerson: () => 0,\n  taxForPerson: () => 0,\n  tipForPerson: () => 0,\n  totalForPerson: () => 0,\n});\n\nexport const AppDataContextProvider: FunctionComponent = ({ children }) => {\n  const [appData, setAppData] = useLocalStorage<AppDataEntity>('appData', appDataDefaults);\n\n  const reset = () => {\n    setAppData(appDataDefaults);\n  };\n\n  const putItem = (newItem: ReceiptItem) => {\n    setAppData((prev) => {\n      const index = prev.items.map((item) => item.id).indexOf(newItem.id);\n      if (index > -1) {\n        prev.items[index] = newItem;\n        return { ...prev, items: [...prev.items] };\n      } else {\n        return { ...prev, items: [...prev.items, newItem] };\n      }\n    });\n  };\n\n  const removeItem = (itemId: string) => {\n    setAppData((prev) => ({ ...prev, items: prev.items.filter((item) => item.id !== itemId) }));\n  };\n\n  const splitItem = (itemId: string) => {\n    const item = appData.items.find((item) => item.id === itemId);\n    if (!item) return;\n    const splitCount = parseInt(\n      prompt(`How many items should (${item.name} - ${currency(item.cost).format()}) be split into?`) || '',\n    );\n    if (!splitCount || isNaN(splitCount)) return;\n    const newItems: ReceiptItem[] = indexArray(splitCount).map(() => ({\n      id: uuidv4(),\n      name: item.name,\n      cost: item.cost / splitCount,\n    }));\n    setAppData((prev) => ({ ...prev, items: [...prev.items.filter((item) => item.id !== itemId), ...newItems] }));\n  };\n\n  const putPerson = (newPerson: Person) => {\n    setAppData((prev) => {\n      const index = prev.people.map((item) => item.id).indexOf(newPerson.id);\n      if (index > -1) {\n        prev.people[index] = newPerson;\n        return { ...prev, people: [...prev.people] };\n      } else {\n        return { ...prev, people: [...prev.people, newPerson] };\n      }\n    });\n  };\n\n  const removePerson = (personId: string) => {\n    setAppData((prev) => ({ ...prev, people: prev.people.filter((person) => person.id !== personId) }));\n  };\n\n  const handleSetItemPerson = (itemId: string, personId: string, selected: boolean) => {\n    setAppData((prev) => {\n      const { personToItemsMap, itemToPeopleMap } = prev;\n      if (!personToItemsMap[personId]) personToItemsMap[personId] = [];\n      if (selected) {\n        personToItemsMap[personId] = setify([...personToItemsMap[personId], itemId]);\n      } else {\n        personToItemsMap[personId] = personToItemsMap[personId].filter((_itemId) => _itemId !== itemId);\n      }\n      if (!itemToPeopleMap[itemId]) itemToPeopleMap[itemId] = [];\n      if (selected) {\n        itemToPeopleMap[itemId] = setify([...itemToPeopleMap[itemId], personId]);\n      } else {\n        itemToPeopleMap[itemId] = itemToPeopleMap[itemId].filter((_personId) => _personId !== personId);\n      }\n      return { ...prev, personToItemsMap, itemToPeopleMap };\n    });\n  };\n\n  const itemCostMap = useMemo<Record<string, number>>(() => {\n    return appData.items.reduce((map, curr) => ({ ...map, [curr.id]: curr.cost }), {});\n  }, [appData.items]);\n\n  const subTotal = useMemo(\n    () =>\n      appData.items.reduce((previousValue, currentValue) => {\n        console.log({ previousValue, currentValue });\n        return currency(previousValue).add(currentValue.cost).value;\n      }, 0.0),\n    [appData.items],\n  );\n\n  const total = currency(subTotal).add(appData.tax).add(appData.tip).value;\n\n  const subTotalForPerson = (personId: string) =>\n    appData.personToItemsMap[personId]?.reduce(\n      (sum, itemId) =>\n        currency(sum).add(currency(itemCostMap[itemId]).divide(appData.itemToPeopleMap[itemId].length)).value,\n      0.0,\n    ) || 0;\n\n  const percentForPerson = (personId: string) => subTotalForPerson(personId) / subTotal;\n\n  const taxForPerson = (personId: string) => currency(appData.tax).multiply(percentForPerson(personId)).value;\n  const tipForPerson = (personId: string) => currency(appData.tip).multiply(percentForPerson(personId)).value;\n\n  const totalForPerson = (personId: string) =>\n    currency(subTotalForPerson(personId)).add(taxForPerson(personId)).add(tipForPerson(personId)).value;\n\n  return (\n    <AppDataContext.Provider\n      value={{\n        appData,\n        setAppData,\n        reset,\n        putItem,\n        removeItem,\n        splitItem,\n        putPerson,\n        removePerson,\n        handleSetItemPerson,\n        itemCostMap,\n        subTotal,\n        total,\n        subTotalForPerson,\n        taxForPerson,\n        tipForPerson,\n        totalForPerson,\n      }}\n    >\n      {children}\n    </AppDataContext.Provider>\n  );\n};\n\nconst useAppData = (): AppDataContextProps => useContext(AppDataContext);\nexport default useAppData;\n","import React, { FunctionComponent, useState } from 'react';\nimport {\n  AppBar,\n  Box,\n  Button,\n  Card,\n  CardContent,\n  Collapse,\n  Container,\n  Grid,\n  makeStyles,\n  Toolbar,\n  Typography,\n} from '@material-ui/core';\nimport useAppData from './hooks/useAppData';\nimport currency from 'currency.js';\n\nconst useStyles = makeStyles((theme) => ({\n  offset: theme.mixins.toolbar,\n}));\n\nconst Layout: FunctionComponent = ({ children }) => {\n  const classes = useStyles();\n\n  const { reset } = useAppData();\n\n  const handleReset = () => {\n    if (confirm(\"Are you sure you'd like to reset?\")) reset();\n  };\n\n  return (\n    <>\n      <Box style={{ paddingBottom: 500 }}>\n        <AppBar position=\"fixed\">\n          <Toolbar>\n            {/*<IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\">*/}\n            {/*  <MenuIcon />*/}\n            {/*</IconButton>*/}\n            <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n              Rece\n            </Typography>\n            <Button onClick={handleReset} style={{ color: 'inherit' }}>\n              Reset\n            </Button>\n          </Toolbar>\n        </AppBar>\n        <Box className={classes.offset} />\n        {children}\n      </Box>\n      <DebugView />\n    </>\n  );\n};\n\nexport default Layout;\n\nconst DebugView: FunctionComponent = () => {\n  const [showDebugView, setShowDebugView] = useState(false);\n\n  const { appData, subTotalForPerson, taxForPerson, tipForPerson, totalForPerson, subTotal, total } = useAppData();\n\n  return (\n    <Box style={{ marginBottom: 50 }}>\n      <Container>\n        <Card>\n          <Button onClick={() => setShowDebugView((prev) => !prev)}>Debug</Button>\n          <Collapse in={showDebugView}>\n            <CardContent>\n              <UncontrolledCollapse buttonTitle={'appData'}>\n                <pre>{JSON.stringify(appData, null, 2)}</pre>\n              </UncontrolledCollapse>\n              <UncontrolledCollapse buttonTitle={'Real Sums'}>\n                <div>\n                  <Typography>Sub Total ({currency(subTotal).format()})</Typography>\n                  {appData.people.map((person) => (\n                    <div key={person.id}>\n                      {person.name} - {currency(subTotalForPerson(person.id)).format()}\n                    </div>\n                  ))}\n                  <div>\n                    Sum -{' '}\n                    {appData.people\n                      .reduce((sum, person) => sum.add(subTotalForPerson(person.id)), currency(0))\n                      .format()}\n                  </div>\n                </div>\n                <div>\n                  <Typography>Tax ({currency(appData.tax).format()})</Typography>\n                  {appData.people.map((person) => (\n                    <div key={person.id}>\n                      {person.name} - {currency(taxForPerson(person.id)).format()}\n                    </div>\n                  ))}\n                  <div>\n                    Sum -{' '}\n                    {appData.people.reduce((sum, person) => sum.add(taxForPerson(person.id)), currency(0)).format()}\n                  </div>\n                </div>\n                <div>\n                  <Typography>Tip ({currency(appData.tip).format()})</Typography>\n                  {appData.people.map((person) => (\n                    <div key={person.id}>\n                      {person.name} - {currency(tipForPerson(person.id)).format()}\n                    </div>\n                  ))}\n                  <div>\n                    Sum -{' '}\n                    {appData.people.reduce((sum, person) => sum.add(tipForPerson(person.id)), currency(0)).format()}\n                  </div>\n                </div>\n                <div>\n                  <Typography>Total ({currency(total).format()})</Typography>\n                  {appData.people.map((person) => (\n                    <div key={person.id}>\n                      {person.name} - {currency(totalForPerson(person.id)).format()}\n                    </div>\n                  ))}\n                  <div>\n                    Sum -{' '}\n                    {appData.people.reduce((sum, person) => sum.add(totalForPerson(person.id)), currency(0)).format()}\n                  </div>\n                </div>\n              </UncontrolledCollapse>\n            </CardContent>\n          </Collapse>\n        </Card>\n      </Container>\n    </Box>\n  );\n};\n\nconst UncontrolledCollapse: FunctionComponent<{ buttonTitle: string }> = ({ children, buttonTitle }) => {\n  const [open, setOpen] = useState(false);\n\n  return (\n    <>\n      <Button onClick={() => setOpen((prev) => !prev)}>{buttonTitle}</Button>\n      <Collapse in={open}>{children}</Collapse>\n    </>\n  );\n};\n","import React, { ReactElement, useLayoutEffect, useRef, useState } from 'react';\nimport { ButtonBase, TextField, Typography, useTheme } from '@material-ui/core';\n\nconst EditableField = <T extends string | number>({\n  value,\n  onChange,\n  formatValue = (value) => `${value}`,\n  type,\n}: {\n  value: T;\n  onChange: (value: string) => void;\n  formatValue?: (value: T) => string;\n  type?: React.InputHTMLAttributes<unknown>['type'];\n}): ReactElement => {\n  const [isEditMode, setIsEditMode] = useState(false);\n  const textFieldRef = useRef<HTMLInputElement>();\n  const theme = useTheme();\n\n  useLayoutEffect(() => {\n    if (isEditMode) textFieldRef.current?.focus();\n  }, [isEditMode]);\n\n  return isEditMode ? (\n    <TextField\n      placeholder={formatValue(value)}\n      onChange={(event) => onChange(event.target.value as string)}\n      type={type}\n      onBlur={() => setIsEditMode(false)}\n      onKeyDown={(event) => {\n        if (['Enter', 'Escape'].includes(event.code)) setIsEditMode(false);\n      }}\n      inputRef={textFieldRef}\n      style={{ width: 80 }}\n    />\n  ) : (\n    <ButtonBase\n      onClick={() => setIsEditMode(true)}\n      style={{ paddingTop: 4, paddingBottom: 4, display: 'flex', flexDirection: 'column' }}\n    >\n      <Typography>{formatValue(value)}</Typography>\n      <div style={{ height: 1, width: '100%', backgroundColor: theme.palette.text.disabled }} />\n    </ButtonBase>\n  );\n};\n\nexport default EditableField;\n","import React, { FunctionComponent, KeyboardEvent, ReactElement, useLayoutEffect, useRef, useState } from 'react';\nimport {\n  Avatar,\n  Box,\n  Button,\n  ButtonBase,\n  Card,\n  CardContent,\n  Checkbox,\n  Collapse,\n  Grid,\n  IconButton,\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  Tooltip,\n  Typography,\n  useTheme,\n} from '@material-ui/core';\nimport { Controller, FieldPath, useForm } from 'react-hook-form';\nimport { v4 as uuidv4 } from 'uuid';\nimport currency from 'currency.js';\nimport { nameToInitials } from './functions/utils';\nimport useAppData from './hooks/useAppData';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CallSplitIcon from '@material-ui/icons/CallSplit';\nimport EditableField from './components/EditableField';\n\ninterface ItemEntryForm {\n  name: string;\n  cost: number;\n}\n\nconst itemEntryFormDefaults: Partial<ItemEntryForm> = {\n  name: '',\n  cost: undefined,\n};\n\nconst getVenmoPaymentLink = ({\n  txn = 'charge',\n  user = '',\n  amount,\n  note = 'Split by Rece',\n}: {\n  txn?: 'pay' | 'charge';\n  user?: string;\n  amount: number;\n  note?: string;\n}) => `venmo://paycharge?txn=${txn}&recipients=${user}&amount=${amount}&note=${note}`;\n\nconst useStyles = makeStyles({\n  tableCellNoPadding: {\n    paddingTop: 7,\n    paddingBottom: 7,\n  },\n  tableCellEditPadding: {\n    paddingTop: 11,\n    paddingBottom: 10,\n  },\n});\n\nconst ItemsTab: FunctionComponent = () => {\n  const {\n    setAppData,\n    appData: { items, people, personToItemsMap, itemToPeopleMap, tax, tip },\n    putItem,\n    removeItem,\n    splitItem,\n    handleSetItemPerson,\n    subTotal,\n    subTotalForPerson,\n    total,\n    taxForPerson,\n    tipForPerson,\n    totalForPerson,\n  } = useAppData();\n\n  const { control, handleSubmit, reset } = useForm<ItemEntryForm>({ defaultValues: itemEntryFormDefaults });\n\n  const nameFieldRef = useRef<HTMLInputElement | null>(null);\n  const costFieldRef = useRef<HTMLInputElement | null>(null);\n\n  const handleOnSubmit = ({ name, cost }: ItemEntryForm) => {\n    const newItem = {\n      id: uuidv4(),\n      name,\n      cost,\n    };\n    putItem(newItem);\n    reset(itemEntryFormDefaults);\n    nameFieldRef.current?.focus();\n  };\n\n  const handleOnKeyDown = (name: FieldPath<ItemEntryForm>) => (event: KeyboardEvent<HTMLInputElement>) => {\n    if (event.code === 'Enter') {\n      if (name === 'name') {\n        costFieldRef.current?.focus();\n      } else if (name === 'cost') {\n        handleSubmit(handleOnSubmit)(event);\n      }\n    }\n  };\n\n  const theme = useTheme();\n  const classes = useStyles();\n\n  return (\n    <>\n      <Typography>Enter Receipt Items</Typography>\n      <Grid container spacing={4}>\n        <Grid item xs={12}>\n          <form onSubmit={handleSubmit(handleOnSubmit)}>\n            <Grid container spacing={2} alignItems={'flex-end'}>\n              <Grid item xs={12} md={6}>\n                <Controller\n                  control={control}\n                  name={'name'}\n                  render={({ field }) => (\n                    <TextField\n                      {...field}\n                      inputRef={(ref) => {\n                        nameFieldRef.current = ref;\n                        field.ref(ref);\n                      }}\n                      label=\"Item Name\"\n                      fullWidth\n                      onKeyDown={handleOnKeyDown('name')}\n                    />\n                  )}\n                />\n              </Grid>\n              <Grid item xs={12} md={5}>\n                <Controller\n                  control={control}\n                  name={'cost'}\n                  render={({ field }) => (\n                    <TextField\n                      {...field}\n                      inputRef={(ref) => {\n                        costFieldRef.current = ref;\n                        field.ref(ref);\n                      }}\n                      label=\"Cost\"\n                      fullWidth\n                      onKeyDown={handleOnKeyDown('cost')}\n                      type={'number'}\n                    />\n                  )}\n                  rules={{ required: true, min: 0 }}\n                />\n              </Grid>\n              <Grid item xs={12} md={1}>\n                <Button variant={'contained'} color={'primary'} fullWidth>\n                  Add\n                </Button>\n              </Grid>\n            </Grid>\n          </form>\n        </Grid>\n        <Grid item xs={12}>\n          <Box style={{ overflow: 'auto', position: 'relative' }}>\n            <Table>\n              <TableHead>\n                <TableRow style={{ position: 'sticky', top: 0, backgroundColor: 'white', zIndex: 101 }}>\n                  <TableCell\n                    style={{ position: 'sticky', left: 0, backgroundColor: 'white', zIndex: 100, minWidth: 100 }}\n                  >\n                    Name\n                  </TableCell>\n                  <TableCell style={{ minWidth: 200 }}>Cost</TableCell>\n                  <TableCell style={{ width: 1 }} />\n                  {people.map((person) => (\n                    <TableCell key={person.id} style={{ width: 1 }}>\n                      <Tooltip title={person.name}>\n                        <Avatar style={{ height: 24, width: 24, fontSize: 12 }}>{nameToInitials(person.name)}</Avatar>\n                      </Tooltip>\n                    </TableCell>\n                  ))}\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {items.map((item) => (\n                  <TableRow key={item.id}>\n                    <TableCell\n                      style={{\n                        position: 'sticky',\n                        left: 0,\n                        zIndex: 100,\n                        whiteSpace: 'nowrap',\n                        backgroundColor:\n                          (itemToPeopleMap[item.id]?.length || 0) === 0 ? theme.palette.warning.light : 'white',\n                      }}\n                      className={classes.tableCellEditPadding}\n                    >\n                      <EditableField value={item.name} onChange={(name) => putItem({ ...item, name })} />\n                    </TableCell>\n                    <TableCell className={classes.tableCellEditPadding}>\n                      <EditableField\n                        type={'number'}\n                        value={item.cost}\n                        onChange={(value) => putItem({ ...item, cost: parseFloat(value) })}\n                        formatValue={(value) => currency(value).format()}\n                      />\n                    </TableCell>\n                    <TableCell className={classes.tableCellNoPadding}>\n                      <Box style={{ display: 'flex' }}>\n                        <IconButton\n                          size={'small'}\n                          edge=\"end\"\n                          onClick={() => splitItem(item.id)}\n                          style={{ marginRight: theme.spacing(1) }}\n                        >\n                          <CallSplitIcon color={'primary'} />\n                        </IconButton>\n                        <IconButton\n                          size={'small'}\n                          edge=\"end\"\n                          onClick={() => {\n                            if (confirm(\"Are you sure you'd like to remove this item?\")) removeItem(item.id);\n                          }}\n                        >\n                          <DeleteIcon color={'error'} />\n                        </IconButton>\n                      </Box>\n                    </TableCell>\n                    {people.map((person) => (\n                      <TableCell key={person.id} className={classes.tableCellNoPadding}>\n                        <Checkbox\n                          checked={personToItemsMap[person.id]?.includes(item.id) || false}\n                          onChange={(event) => handleSetItemPerson(item.id, person.id, event.target.checked)}\n                        />\n                      </TableCell>\n                    ))}\n                  </TableRow>\n                ))}\n                {/* SubTotal Row */}\n                <TableRow>\n                  <TableCell\n                    style={{\n                      position: 'sticky',\n                      left: 0,\n                      backgroundColor: 'white',\n                      zIndex: 100,\n                      whiteSpace: 'nowrap',\n                    }}\n                  >\n                    Subtotal\n                  </TableCell>\n                  <TableCell>\n                    <Typography>{currency(subTotal).format()}</Typography>\n                  </TableCell>\n                  <TableCell />\n                  {people.map((person) => (\n                    <TableCell key={person.id}>\n                      <Typography>{currency(subTotalForPerson(person.id)).format()}</Typography>\n                    </TableCell>\n                  ))}\n                </TableRow>\n                {/* Tax Row */}\n                <TableRow>\n                  <TableCell\n                    style={{\n                      position: 'sticky',\n                      left: 0,\n                      zIndex: 100,\n                      whiteSpace: 'nowrap',\n                      backgroundColor: tax === 0 ? theme.palette.warning.light : 'white',\n                    }}\n                    className={classes.tableCellEditPadding}\n                  >\n                    <Box\n                      style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                      }}\n                    >\n                      <Box style={{ marginRight: 10 }}>Tax</Box>\n                      <EditableField\n                        type={'number'}\n                        value={subTotal > 0 ? tax / subTotal : 0}\n                        onChange={(taxPct) =>\n                          setAppData((prev) => ({ ...prev, tax: subTotal * (parseFloat(taxPct) / 100.0) }))\n                        }\n                        formatValue={(value) => `${(value * 100).toFixed(2)}%`}\n                      />\n                    </Box>\n                  </TableCell>\n                  <TableCell className={classes.tableCellEditPadding}>\n                    <EditableField\n                      type={'number'}\n                      value={tax}\n                      onChange={(tax) => setAppData((prev) => ({ ...prev, tax: parseFloat(tax) }))}\n                      formatValue={(value) => currency(value).format()}\n                    />\n                  </TableCell>\n                  <TableCell />\n                  {people.map((person) => (\n                    <TableCell key={person.id}>\n                      <Typography>{currency(taxForPerson(person.id)).format()}</Typography>\n                    </TableCell>\n                  ))}\n                </TableRow>\n                {/* Tip Row */}\n                <TableRow>\n                  <TableCell\n                    style={{\n                      position: 'sticky',\n                      left: 0,\n                      backgroundColor: tip === 0 ? theme.palette.warning.light : 'white',\n                      zIndex: 100,\n                      whiteSpace: 'nowrap',\n                    }}\n                    className={classes.tableCellEditPadding}\n                  >\n                    <Box\n                      style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                      }}\n                    >\n                      <Box style={{ marginRight: 10 }}>Tip</Box>\n                      <EditableField\n                        type={'number'}\n                        value={subTotal > 0 ? tip / subTotal : 0}\n                        onChange={(tipPct) =>\n                          setAppData((prev) => ({ ...prev, tip: subTotal * (parseFloat(tipPct) / 100.0) }))\n                        }\n                        formatValue={(value) => `${(value * 100).toFixed(2)}%`}\n                      />\n                    </Box>\n                  </TableCell>\n                  <TableCell className={classes.tableCellEditPadding}>\n                    <EditableField\n                      type={'number'}\n                      value={tip}\n                      onChange={(tip) => setAppData((prev) => ({ ...prev, tip: parseFloat(tip) }))}\n                      formatValue={(value) => currency(value).format()}\n                    />\n                  </TableCell>\n                  <TableCell />\n                  {people.map((person) => (\n                    <TableCell key={person.id}>\n                      <Typography>{currency(tipForPerson(person.id)).format()}</Typography>\n                    </TableCell>\n                  ))}\n                </TableRow>\n                {/* Total Row */}\n                <TableRow>\n                  <TableCell\n                    style={{\n                      position: 'sticky',\n                      left: 0,\n                      backgroundColor: 'white',\n                      zIndex: 100,\n                      whiteSpace: 'nowrap',\n                    }}\n                  >\n                    Total\n                  </TableCell>\n                  <TableCell style={{ paddingTop: 0, paddingBottom: 0 }}>\n                    <Typography>{currency(total).format()}</Typography>\n                  </TableCell>\n                  <TableCell />\n                  {people.map((person) => (\n                    <TableCell key={person.id} style={{ paddingTop: 0, paddingBottom: 0 }}>\n                      <Typography\n                        onClick={() => {\n                          window.location.href = getVenmoPaymentLink({ amount: totalForPerson(person.id) });\n                        }}\n                      >\n                        {currency(totalForPerson(person.id)).format()}\n                      </Typography>\n                    </TableCell>\n                  ))}\n                </TableRow>\n              </TableBody>\n            </Table>\n          </Box>\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nexport default ItemsTab;\n","import React, { FunctionComponent, KeyboardEvent, useState } from 'react';\nimport {\n  Avatar,\n  Button,\n  Grid,\n  IconButton,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemSecondaryAction,\n  TextField,\n  Typography,\n} from '@material-ui/core';\nimport { v4 as uuidv4 } from 'uuid';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { nameToInitials } from './functions/utils';\nimport useAppData from './hooks/useAppData';\nimport EditableField from './components/EditableField';\n\nconst PeopleTab: FunctionComponent = () => {\n  const {\n    appData: { people },\n    putPerson,\n    removePerson,\n  } = useAppData();\n\n  const [personNameInput, setPersonNameInput] = useState('');\n\n  const handleAddPerson = (name: string) => {\n    if (!name) return;\n    putPerson({ id: uuidv4(), name: name.trim() });\n    setPersonNameInput('');\n  };\n\n  const handleOnKeyDown = (event: KeyboardEvent<HTMLInputElement>) => {\n    if (event.code === 'Enter') {\n      handleAddPerson(personNameInput);\n    }\n  };\n\n  return (\n    <>\n      <Typography>Enter People</Typography>\n      <Grid container spacing={4}>\n        <Grid item xs={12}>\n          <Grid container spacing={2} alignItems={'flex-end'}>\n            <Grid item xs={12} md={11}>\n              <TextField\n                value={personNameInput}\n                onChange={(event) => setPersonNameInput(event.target.value)}\n                label=\"Person Name\"\n                fullWidth\n                onKeyDown={handleOnKeyDown}\n              />\n            </Grid>\n            <Grid item xs={12} md={1}>\n              <Button\n                variant={'contained'}\n                color={'primary'}\n                onClick={() => handleAddPerson(personNameInput)}\n                fullWidth\n              >\n                Add\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item xs={12}>\n          <List>\n            {people.map((person) => (\n              <ListItem key={person.id}>\n                <ListItemAvatar>\n                  <Avatar>{nameToInitials(person.name)}</Avatar>\n                </ListItemAvatar>\n                <EditableField value={person.name} onChange={(name) => putPerson({ ...person, name })} />\n                <ListItemSecondaryAction>\n                  <IconButton edge=\"end\" onClick={() => removePerson(person.id)}>\n                    <DeleteIcon />\n                  </IconButton>\n                </ListItemSecondaryAction>\n              </ListItem>\n            ))}\n          </List>\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nexport default PeopleTab;\n","import React, { FunctionComponent, useState } from 'react';\nimport { Container, Tab, Tabs } from '@material-ui/core';\nimport Layout from './Layout';\nimport ItemsTab from './ItemsTab';\nimport PeopleTab from './PeopleTab';\nimport { AppDataContextProvider } from './hooks/useAppData';\n\nconst App: FunctionComponent = () => {\n  const [currentTab, setCurrentTab] = useState(0);\n\n  return (\n    <div>\n      <AppDataContextProvider>\n        <Layout>\n          <Container>\n            <Tabs\n              value={currentTab}\n              onChange={(event, value) => setCurrentTab(value)}\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              centered\n              style={{ marginBottom: 20 }}\n            >\n              <Tab label=\"Items\" />\n              <Tab label=\"People\" />\n            </Tabs>\n            {currentTab === 0 && <ItemsTab />}\n            {currentTab === 1 && <PeopleTab />}\n          </Container>\n        </Layout>\n      </AppDataContextProvider>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { CssBaseline } from '@material-ui/core';\n\nReactDOM.render(\n  <React.StrictMode>\n    <CssBaseline />\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}
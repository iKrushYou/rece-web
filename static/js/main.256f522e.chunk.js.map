{"version":3,"sources":["hooks/useLocalStorage.tsx","functions/utils.ts","hooks/useAppData.tsx","Layout.tsx","ItemsTab.tsx","PeopleTab.tsx","App.tsx","index.tsx"],"names":["useLocalStorage","key","initialValue","useState","item","window","localStorage","getItem","JSON","parse","error","console","log","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","nameToInitials","name","toUpperCase","split","map","part","substr","join","setify","array","Set","appDataDefaults","items","people","personToItemsMap","itemToPeopleMap","tip","tax","noop","AppDataContext","createContext","appData","setAppData","reset","putItem","removeItem","splitItem","addPerson","removePerson","handleSetItemPerson","itemCostMap","subTotal","total","subTotalForPerson","taxForPerson","tipForPerson","totalForPerson","AppDataContextProvider","children","useMemo","reduce","curr","id","cost","previousValue","currentValue","currency","add","personId","sum","itemId","divide","length","percentForPerson","multiply","Provider","newItem","prev","filter","find","splitCount","parseInt","prompt","format","isNaN","newItems","Array","fill","_","index","uuidv4","newPerson","person","selected","_itemId","_personId","useAppData","useContext","useStyles","makeStyles","theme","offset","mixins","toolbar","Layout","classes","Box","style","paddingBottom","AppBar","position","Toolbar","Typography","variant","flexGrow","Button","onClick","confirm","color","className","DebugView","showDebugView","setShowDebugView","marginBottom","Container","Card","Collapse","in","CardContent","buttonTitle","UncontrolledCollapse","open","setOpen","itemEntryFormDefaults","undefined","ItemsTab","useForm","defaultValues","control","handleSubmit","nameFieldRef","useRef","costFieldRef","handleOnSubmit","current","focus","handleOnKeyDown","event","code","useTheme","Grid","container","spacing","xs","onSubmit","alignItems","md","render","field","TextField","inputRef","ref","label","fullWidth","onKeyDown","type","rules","required","min","overflow","Table","TableHead","TableRow","top","backgroundColor","zIndex","TableCell","left","minWidth","width","Avatar","height","fontSize","TableBody","whiteSpace","paddingTop","palette","warning","light","onChange","formatValue","display","IconButton","size","edge","marginRight","Checkbox","checked","includes","target","disabled","taxPct","toFixed","tipPct","location","href","txn","user","amount","note","getVenmoPaymentLink","EditableNumberField","isEditMode","setIsEditMode","textFieldRef","useLayoutEffect","placeholder","parseFloat","onBlur","marginLeft","PeopleTab","personNameInput","setPersonNameInput","handleAddPerson","trim","List","ListItem","ListItemAvatar","ListItemText","primary","ListItemSecondaryAction","App","currentTab","setCurrentTab","Tabs","indicatorColor","textColor","centered","Tab","ReactDOM","StrictMode","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.256f522e.chunk.js","sourcesContent":["import { Dispatch, SetStateAction, useState } from 'react';\n\nfunction useLocalStorage<T>(key: string, initialValue: T): [T, Dispatch<SetStateAction<T>>] {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    try {\n      // Get from local storage by key\n      const item = window.localStorage.getItem(key);\n      // Parse stored json or if none return initialValue\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      // If error also return initialValue\n      // eslint-disable-next-line no-console\n      console.log(error);\n      return initialValue;\n    }\n  });\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to localStorage.\n  const setValue = (value: T | ((val: T) => T)) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      // Save state\n      setStoredValue(valueToStore);\n      // Save to local storage\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      // eslint-disable-next-line no-console\n      console.log(error);\n    }\n  };\n  return [storedValue, setValue];\n}\n\nexport default useLocalStorage;\n","export const nameToInitials = (name: string): string => {\n  return name\n    .toUpperCase()\n    .split(' ')\n    .map((part) => part.substr(0, 1))\n    .join('');\n};\n\nexport const indexArray = (length: number): number[] => new Array(length).fill(0).map((_, index) => index);\n\nexport const setify = <T>(array: T[]): T[] => [...new Set(array)];\n\nexport const calcPercent = (numerator: number, denominator: number, toFixed = 2): string => {\n  if (isNaN(numerator) || isNaN(denominator) || denominator === 0) return (0).toFixed(2);\n  return ((numerator / denominator) * 100.0).toFixed(toFixed);\n};\n","import useLocalStorage from './useLocalStorage';\nimport ReceiptItem from '../types/ReceiptItem';\nimport Person from '../types/Person';\nimport { indexArray, setify } from '../functions/utils';\nimport React, { createContext, Dispatch, FunctionComponent, SetStateAction, useContext, useMemo } from 'react';\nimport currency from 'currency.js';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport interface AppDataEntity {\n  items: ReceiptItem[];\n  people: Person[];\n  personToItemsMap: Record<string, string[]>;\n  itemToPeopleMap: Record<string, string[]>;\n  tip: number;\n  tax: number;\n}\n\nconst appDataDefaults = {\n  items: [],\n  people: [],\n  personToItemsMap: {},\n  itemToPeopleMap: {},\n  tip: 0,\n  tax: 0,\n};\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = () => {};\n\ninterface AppDataContextProps {\n  appData: AppDataEntity;\n  setAppData: Dispatch<SetStateAction<AppDataEntity>>;\n  reset: () => void;\n  putItem: (newItem: ReceiptItem) => void;\n  removeItem: (itemId: string) => void;\n  splitItem: (itemId: string) => void;\n  addPerson: (newPerson: Person) => void;\n  removePerson: (personId: string) => void;\n  handleSetItemPerson: (itemId: string, personId: string, selected: boolean) => void;\n  itemCostMap: Record<string, number>;\n  subTotal: number;\n  total: number;\n  subTotalForPerson: (personId: string) => number;\n  taxForPerson: (personId: string) => number;\n  tipForPerson: (personId: string) => number;\n  totalForPerson: (personId: string) => number;\n}\n\nconst AppDataContext = createContext<AppDataContextProps>({\n  appData: appDataDefaults,\n  setAppData: noop,\n  reset: noop,\n  putItem: noop,\n  removeItem: noop,\n  splitItem: noop,\n  addPerson: noop,\n  removePerson: noop,\n  handleSetItemPerson: noop,\n  itemCostMap: {},\n  subTotal: 0,\n  total: 0,\n  subTotalForPerson: () => 0,\n  taxForPerson: () => 0,\n  tipForPerson: () => 0,\n  totalForPerson: () => 0,\n});\n\nexport const AppDataContextProvider: FunctionComponent = ({ children }) => {\n  const [appData, setAppData] = useLocalStorage<AppDataEntity>('appData', appDataDefaults);\n\n  const reset = () => {\n    setAppData(appDataDefaults);\n  };\n\n  const putItem = (newItem: ReceiptItem) => {\n    setAppData((prev) => ({ ...prev, items: [...prev.items.filter((item) => item.id !== newItem.id), newItem] }));\n  };\n\n  const removeItem = (itemId: string) => {\n    setAppData((prev) => ({ ...prev, items: prev.items.filter((item) => item.id !== itemId) }));\n  };\n\n  const splitItem = (itemId: string) => {\n    const item = appData.items.find((item) => item.id === itemId);\n    if (!item) return;\n    const splitCount = parseInt(\n      prompt(`How many items should (${item.name} - ${currency(item.cost).format()}) be split into?`) || '',\n    );\n    if (!splitCount || isNaN(splitCount)) return;\n    const newItems: ReceiptItem[] = indexArray(splitCount).map(() => ({\n      id: uuidv4(),\n      name: item.name,\n      cost: item.cost / splitCount,\n    }));\n    setAppData((prev) => ({ ...prev, items: [...prev.items.filter((item) => item.id !== itemId), ...newItems] }));\n  };\n\n  const addPerson = (newPerson: Person) => {\n    setAppData((prev) => ({ ...prev, people: [...prev.people, newPerson] }));\n  };\n\n  const removePerson = (personId: string) => {\n    setAppData((prev) => ({ ...prev, people: prev.people.filter((person) => person.id !== personId) }));\n  };\n\n  const handleSetItemPerson = (itemId: string, personId: string, selected: boolean) => {\n    setAppData((prev) => {\n      const { personToItemsMap, itemToPeopleMap } = prev;\n      if (!personToItemsMap[personId]) personToItemsMap[personId] = [];\n      if (selected) {\n        personToItemsMap[personId] = setify([...personToItemsMap[personId], itemId]);\n      } else {\n        personToItemsMap[personId] = personToItemsMap[personId].filter((_itemId) => _itemId !== itemId);\n      }\n      if (!itemToPeopleMap[itemId]) itemToPeopleMap[itemId] = [];\n      if (selected) {\n        itemToPeopleMap[itemId] = setify([...itemToPeopleMap[itemId], personId]);\n      } else {\n        itemToPeopleMap[itemId] = itemToPeopleMap[itemId].filter((_personId) => _personId !== personId);\n      }\n      return { ...prev, personToItemsMap, itemToPeopleMap };\n    });\n  };\n\n  const itemCostMap = useMemo<Record<string, number>>(() => {\n    return appData.items.reduce((map, curr) => ({ ...map, [curr.id]: curr.cost }), {});\n  }, [appData.items]);\n\n  const subTotal = useMemo(\n    () =>\n      appData.items.reduce((previousValue, currentValue) => {\n        console.log({ previousValue, currentValue });\n        return currency(previousValue).add(currentValue.cost).value;\n      }, 0.0),\n    [appData.items],\n  );\n\n  const total = currency(subTotal).add(appData.tax).add(appData.tip).value;\n\n  const subTotalForPerson = (personId: string) =>\n    appData.personToItemsMap[personId]?.reduce(\n      (sum, itemId) =>\n        currency(sum).add(currency(itemCostMap[itemId]).divide(appData.itemToPeopleMap[itemId].length)).value,\n      0.0,\n    ) || 0;\n\n  const percentForPerson = (personId: string) => subTotalForPerson(personId) / subTotal;\n\n  const taxForPerson = (personId: string) => currency(appData.tax).multiply(percentForPerson(personId)).value;\n  const tipForPerson = (personId: string) => currency(appData.tip).multiply(percentForPerson(personId)).value;\n\n  const totalForPerson = (personId: string) =>\n    currency(subTotalForPerson(personId)).add(taxForPerson(personId)).add(tipForPerson(personId)).value;\n\n  return (\n    <AppDataContext.Provider\n      value={{\n        appData,\n        setAppData,\n        reset,\n        putItem,\n        removeItem,\n        splitItem,\n        addPerson,\n        removePerson,\n        handleSetItemPerson,\n        itemCostMap,\n        subTotal,\n        total,\n        subTotalForPerson,\n        taxForPerson,\n        tipForPerson,\n        totalForPerson,\n      }}\n    >\n      {children}\n    </AppDataContext.Provider>\n  );\n};\n\nconst useAppData = (): AppDataContextProps => useContext(AppDataContext);\nexport default useAppData;\n","import React, { FunctionComponent, useState } from 'react';\nimport {\n  AppBar,\n  Box,\n  Button,\n  Card,\n  CardContent,\n  Collapse,\n  Container,\n  Grid,\n  makeStyles,\n  Toolbar,\n  Typography,\n} from '@material-ui/core';\nimport useAppData from './hooks/useAppData';\nimport currency from 'currency.js';\n\nconst useStyles = makeStyles((theme) => ({\n  offset: theme.mixins.toolbar,\n}));\n\nconst Layout: FunctionComponent = ({ children }) => {\n  const classes = useStyles();\n\n  const { reset } = useAppData();\n\n  const handleReset = () => {\n    if (confirm(\"Are you sure you'd like to reset?\")) reset();\n  };\n\n  return (\n    <>\n      <Box style={{ paddingBottom: 500 }}>\n        <AppBar position=\"fixed\">\n          <Toolbar>\n            {/*<IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\">*/}\n            {/*  <MenuIcon />*/}\n            {/*</IconButton>*/}\n            <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n              Rece\n            </Typography>\n            <Button onClick={handleReset} style={{ color: 'inherit' }}>\n              Reset\n            </Button>\n          </Toolbar>\n        </AppBar>\n        <Box className={classes.offset} />\n        {children}\n      </Box>\n      <DebugView />\n    </>\n  );\n};\n\nexport default Layout;\n\nconst DebugView: FunctionComponent = () => {\n  const [showDebugView, setShowDebugView] = useState(false);\n\n  const { appData, subTotalForPerson, taxForPerson, tipForPerson, totalForPerson, subTotal, total } = useAppData();\n\n  return (\n    <Box style={{ marginBottom: 50 }}>\n      <Container>\n        <Card>\n          <Button onClick={() => setShowDebugView((prev) => !prev)}>Debug</Button>\n          <Collapse in={showDebugView}>\n            <CardContent>\n              <UncontrolledCollapse buttonTitle={'appData'}>\n                <pre>{JSON.stringify(appData, null, 2)}</pre>\n              </UncontrolledCollapse>\n              <UncontrolledCollapse buttonTitle={'Real Sums'}>\n                <div>\n                  <Typography>Sub Total ({currency(subTotal).format()})</Typography>\n                  {appData.people.map((person) => (\n                    <div key={person.id}>\n                      {person.name} - {currency(subTotalForPerson(person.id)).format()}\n                    </div>\n                  ))}\n                  <div>\n                    Sum -{' '}\n                    {appData.people\n                      .reduce((sum, person) => sum.add(subTotalForPerson(person.id)), currency(0))\n                      .format()}\n                  </div>\n                </div>\n                <div>\n                  <Typography>Tax ({currency(appData.tax).format()})</Typography>\n                  {appData.people.map((person) => (\n                    <div key={person.id}>\n                      {person.name} - {currency(taxForPerson(person.id)).format()}\n                    </div>\n                  ))}\n                  <div>\n                    Sum -{' '}\n                    {appData.people.reduce((sum, person) => sum.add(taxForPerson(person.id)), currency(0)).format()}\n                  </div>\n                </div>\n                <div>\n                  <Typography>Tip ({currency(appData.tip).format()})</Typography>\n                  {appData.people.map((person) => (\n                    <div key={person.id}>\n                      {person.name} - {currency(tipForPerson(person.id)).format()}\n                    </div>\n                  ))}\n                  <div>\n                    Sum -{' '}\n                    {appData.people.reduce((sum, person) => sum.add(tipForPerson(person.id)), currency(0)).format()}\n                  </div>\n                </div>\n                <div>\n                  <Typography>Total ({currency(total).format()})</Typography>\n                  {appData.people.map((person) => (\n                    <div key={person.id}>\n                      {person.name} - {currency(totalForPerson(person.id)).format()}\n                    </div>\n                  ))}\n                  <div>\n                    Sum -{' '}\n                    {appData.people.reduce((sum, person) => sum.add(totalForPerson(person.id)), currency(0)).format()}\n                  </div>\n                </div>\n              </UncontrolledCollapse>\n            </CardContent>\n          </Collapse>\n        </Card>\n      </Container>\n    </Box>\n  );\n};\n\nconst UncontrolledCollapse: FunctionComponent<{ buttonTitle: string }> = ({ children, buttonTitle }) => {\n  const [open, setOpen] = useState(false);\n\n  return (\n    <>\n      <Button onClick={() => setOpen((prev) => !prev)}>{buttonTitle}</Button>\n      <Collapse in={open}>{children}</Collapse>\n    </>\n  );\n};\n","import React, { FunctionComponent, KeyboardEvent, useLayoutEffect, useRef, useState } from 'react';\nimport {\n  Avatar,\n  Box,\n  Button,\n  Card,\n  CardContent,\n  Checkbox,\n  Collapse,\n  Grid,\n  IconButton,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  Typography,\n  useTheme,\n} from '@material-ui/core';\nimport { Controller, FieldPath, useForm } from 'react-hook-form';\nimport { v4 as uuidv4 } from 'uuid';\nimport currency from 'currency.js';\nimport { nameToInitials } from './functions/utils';\nimport useAppData from './hooks/useAppData';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CallSplitIcon from '@material-ui/icons/CallSplit';\n\ninterface ItemEntryForm {\n  name: string;\n  cost: number;\n}\n\nconst itemEntryFormDefaults: Partial<ItemEntryForm> = {\n  name: '',\n  cost: undefined,\n};\n\nconst getVenmoPaymentLink = ({\n  txn = 'charge',\n  user = '',\n  amount,\n  note = 'Split by Rece',\n}: {\n  txn?: 'pay' | 'charge';\n  user?: string;\n  amount: number;\n  note?: string;\n}) => `venmo://paycharge?txn=${txn}&recipients=${user}&amount=${amount}&note=${note}`;\n\nconst ItemsTab: FunctionComponent = () => {\n  const {\n    setAppData,\n    appData: { items, people, personToItemsMap, itemToPeopleMap, tax, tip },\n    putItem,\n    removeItem,\n    splitItem,\n    handleSetItemPerson,\n    subTotal,\n    subTotalForPerson,\n    total,\n    taxForPerson,\n    tipForPerson,\n    totalForPerson,\n  } = useAppData();\n\n  const { control, handleSubmit, reset } = useForm<ItemEntryForm>({ defaultValues: itemEntryFormDefaults });\n\n  const nameFieldRef = useRef<HTMLInputElement | null>(null);\n  const costFieldRef = useRef<HTMLInputElement | null>(null);\n\n  const handleOnSubmit = ({ name, cost }: ItemEntryForm) => {\n    const newItem = {\n      id: uuidv4(),\n      name,\n      cost,\n    };\n    putItem(newItem);\n    reset(itemEntryFormDefaults);\n    nameFieldRef.current?.focus();\n  };\n\n  const handleOnKeyDown = (name: FieldPath<ItemEntryForm>) => (event: KeyboardEvent<HTMLInputElement>) => {\n    if (event.code === 'Enter') {\n      if (name === 'name') {\n        costFieldRef.current?.focus();\n      } else if (name === 'cost') {\n        handleSubmit(handleOnSubmit)(event);\n      }\n    }\n  };\n\n  const theme = useTheme();\n\n  return (\n    <>\n      <Typography>Enter Receipt Items</Typography>\n      <Grid container spacing={4}>\n        <Grid item xs={12}>\n          <form onSubmit={handleSubmit(handleOnSubmit)}>\n            <Grid container spacing={2} alignItems={'flex-end'}>\n              <Grid item xs={12} md={6}>\n                <Controller\n                  control={control}\n                  name={'name'}\n                  render={({ field }) => (\n                    <TextField\n                      {...field}\n                      inputRef={(ref) => {\n                        nameFieldRef.current = ref;\n                        field.ref(ref);\n                      }}\n                      label=\"Item Name\"\n                      fullWidth\n                      onKeyDown={handleOnKeyDown('name')}\n                    />\n                  )}\n                />\n              </Grid>\n              <Grid item xs={12} md={5}>\n                <Controller\n                  control={control}\n                  name={'cost'}\n                  render={({ field }) => (\n                    <TextField\n                      {...field}\n                      inputRef={(ref) => {\n                        costFieldRef.current = ref;\n                        field.ref(ref);\n                      }}\n                      label=\"Cost\"\n                      fullWidth\n                      onKeyDown={handleOnKeyDown('cost')}\n                      type={'number'}\n                    />\n                  )}\n                  rules={{ required: true, min: 0 }}\n                />\n              </Grid>\n              <Grid item xs={12} md={1}>\n                <Button variant={'contained'} color={'primary'} fullWidth>\n                  Add\n                </Button>\n              </Grid>\n            </Grid>\n          </form>\n        </Grid>\n        <Grid item xs={12}>\n          <Box style={{ overflow: 'auto', position: 'relative' }}>\n            <Table>\n              <TableHead>\n                <TableRow style={{ position: 'sticky', top: 0, backgroundColor: 'white', zIndex: 101 }}>\n                  <TableCell\n                    style={{ position: 'sticky', left: 0, backgroundColor: 'white', zIndex: 100, minWidth: 100 }}\n                  >\n                    Name\n                  </TableCell>\n                  <TableCell style={{ minWidth: 200 }}>Cost</TableCell>\n                  <TableCell style={{ width: 1 }} />\n                  {people.map((person) => (\n                    <TableCell key={person.id} style={{ width: 1 }}>\n                      <Avatar style={{ height: 24, width: 24, fontSize: 12 }}>{nameToInitials(person.name)}</Avatar>\n                    </TableCell>\n                  ))}\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {items.map((item) => (\n                  <TableRow key={item.id}>\n                    <TableCell\n                      style={{\n                        position: 'sticky',\n                        left: 0,\n                        // backgroundColor: 'white',\n                        zIndex: 100,\n                        whiteSpace: 'nowrap',\n                        paddingTop: 0,\n                        paddingBottom: 0,\n                        backgroundColor:\n                          (itemToPeopleMap[item.id]?.length || 0) === 0 ? theme.palette.warning.light : 'white',\n                      }}\n                    >\n                      {item.name}\n                    </TableCell>\n                    <TableCell style={{ paddingTop: 0, paddingBottom: 0 }}>\n                      <EditableNumberField\n                        value={item.cost}\n                        onChange={(value) => putItem({ ...item, cost: value })}\n                        formatValue={(value) => currency(value).format()}\n                      />\n                    </TableCell>\n                    <TableCell style={{ paddingTop: 0, paddingBottom: 0 }}>\n                      <Box style={{ display: 'flex' }}>\n                        <IconButton\n                          size={'small'}\n                          edge=\"end\"\n                          onClick={() => splitItem(item.id)}\n                          style={{ marginRight: theme.spacing(1) }}\n                        >\n                          <CallSplitIcon color={'primary'} />\n                        </IconButton>\n                        <IconButton\n                          size={'small'}\n                          edge=\"end\"\n                          onClick={() => {\n                            if (confirm(\"Are you sure you'd like to remove this item?\")) removeItem(item.id);\n                          }}\n                        >\n                          <DeleteIcon color={'error'} />\n                        </IconButton>\n                      </Box>\n                    </TableCell>\n                    {people.map((person) => (\n                      <TableCell\n                        key={person.id}\n                        style={{\n                          paddingTop: 0,\n                          paddingBottom: 0,\n                        }}\n                      >\n                        <Checkbox\n                          checked={personToItemsMap[person.id]?.includes(item.id) || false}\n                          onChange={(event) => handleSetItemPerson(item.id, person.id, event.target.checked)}\n                        />\n                      </TableCell>\n                    ))}\n                  </TableRow>\n                ))}\n                {/* SubTotal Row */}\n                <TableRow>\n                  <TableCell\n                    style={{\n                      position: 'sticky',\n                      left: 0,\n                      backgroundColor: 'white',\n                      zIndex: 100,\n                      whiteSpace: 'nowrap',\n                      paddingTop: 0,\n                      paddingBottom: 0,\n                    }}\n                  >\n                    Subtotal\n                  </TableCell>\n                  <TableCell style={{ paddingTop: 0, paddingBottom: 0 }}>\n                    <Button disabled style={{ color: 'inherit' }}>\n                      {currency(subTotal).format()}\n                    </Button>\n                  </TableCell>\n                  <TableCell />\n                  {people.map((person) => (\n                    <TableCell key={person.id} style={{ paddingTop: 0, paddingBottom: 0 }}>\n                      <Button disabled style={{ color: 'inherit' }}>\n                        {currency(subTotalForPerson(person.id)).format()}\n                      </Button>\n                    </TableCell>\n                  ))}\n                </TableRow>\n                {/* Tax Row */}\n                <TableRow>\n                  <TableCell\n                    style={{\n                      position: 'sticky',\n                      left: 0,\n                      zIndex: 100,\n                      whiteSpace: 'nowrap',\n                      paddingTop: 0,\n                      paddingBottom: 0,\n                      backgroundColor: tax === 0 ? theme.palette.warning.light : 'white',\n                    }}\n                  >\n                    <Box\n                      style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                      }}\n                    >\n                      <Box style={{ marginRight: 10 }}>Tax</Box>\n                      <EditableNumberField\n                        value={subTotal > 0 ? tax / subTotal : 0}\n                        onChange={(taxPct) => setAppData((prev) => ({ ...prev, tax: subTotal * (taxPct / 100.0) }))}\n                        formatValue={(value) => `${(value * 100).toFixed(2)}%`}\n                      />\n                    </Box>\n                  </TableCell>\n                  <TableCell style={{ paddingTop: 0, paddingBottom: 0 }}>\n                    <EditableNumberField\n                      value={tax}\n                      onChange={(tax) => setAppData((prev) => ({ ...prev, tax }))}\n                      formatValue={(value) => currency(value).format()}\n                    />\n                  </TableCell>\n                  <TableCell />\n                  {people.map((person) => (\n                    <TableCell key={person.id} style={{ paddingTop: 0, paddingBottom: 0 }}>\n                      <Button disabled style={{ color: 'inherit' }}>\n                        {currency(taxForPerson(person.id)).format()}\n                      </Button>\n                    </TableCell>\n                  ))}\n                </TableRow>\n                {/* Tip Row */}\n                <TableRow>\n                  <TableCell\n                    style={{\n                      position: 'sticky',\n                      left: 0,\n                      backgroundColor: tip === 0 ? theme.palette.warning.light : 'white',\n                      zIndex: 100,\n                      whiteSpace: 'nowrap',\n                      paddingTop: 0,\n                      paddingBottom: 0,\n                    }}\n                  >\n                    <Box\n                      style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                      }}\n                    >\n                      <Box style={{ marginRight: 10 }}>Tip</Box>\n                      <EditableNumberField\n                        value={subTotal > 0 ? tip / subTotal : 0}\n                        onChange={(tipPct) => setAppData((prev) => ({ ...prev, tip: subTotal * (tipPct / 100.0) }))}\n                        formatValue={(value) => `${(value * 100).toFixed(2)}%`}\n                      />\n                    </Box>\n                  </TableCell>\n                  <TableCell style={{ paddingTop: 0, paddingBottom: 0 }}>\n                    <EditableNumberField\n                      value={tip}\n                      onChange={(tip) => setAppData((prev) => ({ ...prev, tip }))}\n                      formatValue={(value) => currency(value).format()}\n                    />\n                  </TableCell>\n                  <TableCell />\n                  {people.map((person) => (\n                    <TableCell key={person.id} style={{ paddingTop: 0, paddingBottom: 0 }}>\n                      <Button disabled style={{ color: 'inherit' }}>\n                        {currency(tipForPerson(person.id)).format()}\n                      </Button>\n                    </TableCell>\n                  ))}\n                </TableRow>\n                {/* Total Row */}\n                <TableRow>\n                  <TableCell\n                    style={{\n                      position: 'sticky',\n                      left: 0,\n                      backgroundColor: 'white',\n                      zIndex: 100,\n                      whiteSpace: 'nowrap',\n                      paddingTop: 0,\n                      paddingBottom: 0,\n                    }}\n                  >\n                    Total\n                  </TableCell>\n                  <TableCell style={{ paddingTop: 0, paddingBottom: 0 }}>\n                    <Button disabled style={{ color: 'inherit' }}>\n                      {currency(total).format()}\n                    </Button>\n                  </TableCell>\n                  <TableCell />\n                  {people.map((person) => (\n                    <TableCell key={person.id} style={{ paddingTop: 0, paddingBottom: 0 }}>\n                      <Button\n                        onClick={() => {\n                          window.location.href = getVenmoPaymentLink({ amount: totalForPerson(person.id) });\n                        }}\n                      >\n                        {currency(totalForPerson(person.id)).format()}\n                      </Button>\n                    </TableCell>\n                  ))}\n                </TableRow>\n              </TableBody>\n            </Table>\n          </Box>\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nexport default ItemsTab;\n\nconst EditableNumberField: FunctionComponent<{\n  value: number;\n  onChange: (value: number) => void;\n  formatValue?: (value: number) => string;\n}> = ({ value, onChange, formatValue = (value) => `${value}` }) => {\n  const [isEditMode, setIsEditMode] = useState(false);\n  const textFieldRef = useRef<HTMLInputElement>();\n\n  useLayoutEffect(() => {\n    if (isEditMode) textFieldRef.current?.focus();\n  }, [isEditMode]);\n\n  return isEditMode ? (\n    <TextField\n      placeholder={formatValue(value)}\n      onChange={(event) => onChange(parseFloat(event.target.value))}\n      type={'number'}\n      onBlur={() => setIsEditMode(false)}\n      onKeyDown={(event) => {\n        if (['Enter', 'Escape'].includes(event.code)) setIsEditMode(false);\n      }}\n      inputRef={textFieldRef}\n      style={{ width: 80, marginLeft: 10 }}\n    />\n  ) : (\n    <Button onClick={() => setIsEditMode(true)}>{formatValue(value)}</Button>\n  );\n};\n","import React, { FunctionComponent, KeyboardEvent, useState } from 'react';\nimport {\n  Avatar,\n  Button,\n  Grid,\n  IconButton,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemSecondaryAction,\n  ListItemText,\n  TextField,\n  Typography,\n} from '@material-ui/core';\nimport { v4 as uuidv4 } from 'uuid';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { nameToInitials } from './functions/utils';\nimport useAppData from './hooks/useAppData';\n\nconst PeopleTab: FunctionComponent = () => {\n  const {\n    appData: { people },\n    addPerson,\n    removePerson,\n  } = useAppData();\n\n  const [personNameInput, setPersonNameInput] = useState('');\n\n  const handleAddPerson = (name: string) => {\n    if (!name) return;\n    addPerson({ id: uuidv4(), name: name.trim() });\n    setPersonNameInput('');\n  };\n\n  const handleOnKeyDown = (event: KeyboardEvent<HTMLInputElement>) => {\n    if (event.code === 'Enter') {\n      handleAddPerson(personNameInput);\n    }\n  };\n\n  return (\n    <>\n      <Typography>Enter People</Typography>\n      <Grid container spacing={4}>\n        <Grid item xs={12}>\n          <Grid container spacing={2} alignItems={'flex-end'}>\n            <Grid item xs={12} md={11}>\n              <TextField\n                value={personNameInput}\n                onChange={(event) => setPersonNameInput(event.target.value)}\n                label=\"Person Name\"\n                fullWidth\n                onKeyDown={handleOnKeyDown}\n              />\n            </Grid>\n            <Grid item xs={12} md={1}>\n              <Button\n                variant={'contained'}\n                color={'primary'}\n                onClick={() => handleAddPerson(personNameInput)}\n                fullWidth\n              >\n                Add\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item xs={12}>\n          <List>\n            {people.map((person) => (\n              <ListItem key={person.id}>\n                <ListItemAvatar>\n                  <Avatar>{nameToInitials(person.name)}</Avatar>\n                </ListItemAvatar>\n                <ListItemText primary={person.name} />\n                <ListItemSecondaryAction>\n                  {/*<IconButton edge=\"end\">*/}\n                  {/*  <EditIcon />*/}\n                  {/*</IconButton>*/}\n                  <IconButton edge=\"end\" onClick={() => removePerson(person.id)}>\n                    <DeleteIcon />\n                  </IconButton>\n                </ListItemSecondaryAction>\n              </ListItem>\n            ))}\n          </List>\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nexport default PeopleTab;\n","import React, { FunctionComponent, useState } from 'react';\nimport { Container, Tab, Tabs } from '@material-ui/core';\nimport Layout from './Layout';\nimport ItemsTab from './ItemsTab';\nimport PeopleTab from './PeopleTab';\nimport { AppDataContextProvider } from './hooks/useAppData';\n\nconst App: FunctionComponent = () => {\n  const [currentTab, setCurrentTab] = useState(0);\n\n  return (\n    <div>\n      <AppDataContextProvider>\n        <Layout>\n          <Container>\n            <Tabs\n              value={currentTab}\n              onChange={(event, value) => setCurrentTab(value)}\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              centered\n              style={{ marginBottom: 20 }}\n            >\n              <Tab label=\"Items\" />\n              <Tab label=\"People\" />\n            </Tabs>\n            {currentTab === 0 && <ItemsTab />}\n            {currentTab === 1 && <PeopleTab />}\n          </Container>\n        </Layout>\n      </AppDataContextProvider>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { CssBaseline } from '@material-ui/core';\n\nReactDOM.render(\n  <React.StrictMode>\n    <CssBaseline />\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}